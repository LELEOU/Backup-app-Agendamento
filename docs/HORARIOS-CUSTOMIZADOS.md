# ğŸ“… HorÃ¡rios Customizados - Guia de Uso

## ğŸ¯ VisÃ£o Geral

O sistema de **HorÃ¡rios Customizados** permite que cada funcionÃ¡rio personalize seus horÃ¡rios de trabalho para dias especÃ­ficos, alÃ©m de configurar um horÃ¡rio padrÃ£o semanal.

---

## âœ¨ Funcionalidades Implementadas

### 1. **HorÃ¡rio PadrÃ£o Semanal** (Tela "Meus HorÃ¡rios")
- â±ï¸ Definir horÃ¡rio de inÃ­cio e fim do expediente
- ğŸ½ï¸ Configurar horÃ¡rio de almoÃ§o (inÃ­cio e fim)
- ğŸ“… Selecionar dias de trabalho da semana
- ğŸ’¾ Salvar configuraÃ§Ã£o padrÃ£o

### 2. **CustomizaÃ§Ã£o de Dias EspecÃ­ficos** (CalendÃ¡rio)
- â° Alterar horÃ¡rios para um dia especÃ­fico
- ğŸŒ´ Marcar dia como folga
- ğŸ“ Adicionar observaÃ§Ãµes (ex: "ReuniÃ£o Ã s 14h")
- ğŸ—‘ï¸ Remover customizaÃ§Ã£o (volta ao padrÃ£o)

### 3. **Indicadores Visuais**
- ğŸ”µ Badge azul no calendÃ¡rio mensal: dia com horÃ¡rio customizado
- ğŸŸ¡ Badge amarelo no calendÃ¡rio mensal: dia de folga
- ğŸ“Š Banner informativo na visualizaÃ§Ã£o diÃ¡ria mostrando customizaÃ§Ãµes

---

## ğŸ“– Como Usar

### Configurar HorÃ¡rio PadrÃ£o

1. Clique no menu lateral em **"Meus HorÃ¡rios"**
2. Preencha os campos:
   - InÃ­cio do Expediente (ex: 08:00)
   - Fim do Expediente (ex: 18:00)
   - InÃ­cio do AlmoÃ§o (ex: 12:00)
   - Fim do AlmoÃ§o (ex: 13:00)
3. Marque os dias de trabalho
4. Clique em **"Salvar HorÃ¡rio PadrÃ£o"**

### Customizar Dia EspecÃ­fico

#### Via CalendÃ¡rio (VisualizaÃ§Ã£o DiÃ¡ria)
1. Abra o **CalendÃ¡rio**
2. Navegue atÃ© o dia desejado (visualizaÃ§Ã£o diÃ¡ria)
3. Clique no botÃ£o **"Customizar HorÃ¡rio"** (canto superior direito)
4. Configure:
   - **Toggle Folga/Trabalho**: Ative para marcar como folga
   - **HorÃ¡rios**: InÃ­cio, fim, almoÃ§o (se for dia de trabalho)
   - **ObservaÃ§Ãµes**: Notas opcionais
5. Clique em **"Salvar"**

#### Remover CustomizaÃ§Ã£o
1. Abra a customizaÃ§Ã£o do dia
2. Clique em **"Remover CustomizaÃ§Ã£o"**
3. Confirme a aÃ§Ã£o
4. O dia voltarÃ¡ a usar o horÃ¡rio padrÃ£o

---

## ğŸ¨ Interface Visual

### CalendÃ¡rio Mensal
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Dom Seg Ter Qua Qui Sex SÃ¡b â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1   2â°  3   4   5ğŸŒ´  6   7 â”‚
â”‚                             â”‚
â”‚  8   9   10  11  12  13  14 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â° = HorÃ¡rio customizado
ğŸŒ´ = Dia de folga
```

### VisualizaÃ§Ã£o DiÃ¡ria com CustomizaÃ§Ã£o
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â° HorÃ¡rio Customizado                    â”‚
â”‚ 09:00 - 17:00 â€¢ AlmoÃ§o: 12:30-13:30      â”‚
â”‚ ObservaÃ§Ã£o: Sair mais cedo               â”‚
â”‚                                 [Editar]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ Funcionalidades TÃ©cnicas

### Banco de Dados
Tabela: `staff_daily_schedule`
```sql
- id (UUID)
- staff_id (UUID) â†’ ReferÃªncia ao funcionÃ¡rio
- date (DATE) â†’ Data especÃ­fica
- start_time (TIME) â†’ InÃ­cio do expediente
- end_time (TIME) â†’ Fim do expediente
- lunch_start (TIME) â†’ InÃ­cio do almoÃ§o
- lunch_end (TIME) â†’ Fim do almoÃ§o
- is_day_off (BOOLEAN) â†’ Se Ã© folga
- notes (TEXT) â†’ ObservaÃ§Ãµes
```

### FunÃ§Ãµes JavaScript
- `showDayScheduleModal(date)` - Abre modal de customizaÃ§Ã£o
- `deleteDaySchedule(staffId, date)` - Remove customizaÃ§Ã£o
- `db.getDailySchedule(staffId, date)` - Busca horÃ¡rio do dia
- `db.setDailySchedule(data)` - Salva horÃ¡rio customizado
- `db.deleteDailySchedule(staffId, date)` - Deleta customizaÃ§Ã£o
- `db.getStaffScheduleForMonth(staffId, year, month)` - Busca todos do mÃªs

---

## ğŸ¯ Casos de Uso

### Exemplo 1: Consulta MÃ©dica
```
Dia: 15/10/2025
AÃ§Ã£o: Customizar horÃ¡rio
ConfiguraÃ§Ã£o:
  - InÃ­cio: 09:00 (ao invÃ©s de 08:00)
  - Fim: 18:00
  - ObservaÃ§Ã£o: "Consulta mÃ©dica Ã s 8h"
```

### Exemplo 2: Folga
```
Dia: 20/10/2025
AÃ§Ã£o: Marcar como folga
ConfiguraÃ§Ã£o:
  - Toggle: Ativado (Dia de Folga)
  - ObservaÃ§Ã£o: "Viagem"
Resultado: Dia fica bloqueado para agendamentos
```

### Exemplo 3: HorÃ¡rio Especial
```
Dia: 25/10/2025
AÃ§Ã£o: Customizar horÃ¡rio
ConfiguraÃ§Ã£o:
  - InÃ­cio: 10:00
  - Fim: 20:00
  - AlmoÃ§o: 14:00-15:00
  - ObservaÃ§Ã£o: "HorÃ¡rio estendido - evento"
```

---

## âš¡ BenefÃ­cios

âœ… **Flexibilidade**: Cada funcionÃ¡rio controla sua agenda
âœ… **Autonomia**: NÃ£o precisa pedir admin para ajustar horÃ¡rios
âœ… **Visual**: FÃ¡cil ver dias customizados no calendÃ¡rio
âœ… **IntegraÃ§Ã£o**: Agendamentos respeitam horÃ¡rios personalizados
âœ… **HistÃ³rico**: CustomizaÃ§Ãµes ficam salvas no banco

---

## ğŸš€ PrÃ³ximas Melhorias PossÃ­veis

- [ ] Permitir customizaÃ§Ã£o de mÃºltiplos dias de uma vez
- [ ] Templates de horÃ¡rios (ex: "Meio expediente")
- [ ] AprovaÃ§Ã£o de admin para folgas
- [ ] RelatÃ³rio de horas trabalhadas baseado em customizaÃ§Ãµes
- [ ] SincronizaÃ§Ã£o com calendÃ¡rio externo (Google Calendar)

---

## ğŸ“ Notas Importantes

1. **HorÃ¡rio PadrÃ£o vs Customizado**: 
   - O padrÃ£o se aplica a todos os dias de trabalho selecionados
   - A customizaÃ§Ã£o sobrescreve o padrÃ£o apenas para aquele dia

2. **PersistÃªncia**:
   - CustomizaÃ§Ãµes sÃ£o salvas permanentemente no banco
   - Remover customizaÃ§Ã£o restaura o horÃ¡rio padrÃ£o

3. **PermissÃµes**:
   - FuncionÃ¡rios podem customizar apenas seus prÃ³prios horÃ¡rios
   - Admin pode ver e editar horÃ¡rios de todos

4. **ValidaÃ§Ã£o**:
   - HorÃ¡rios sÃ£o validados no frontend e backend
   - NÃ£o Ã© possÃ­vel criar agendamentos fora do horÃ¡rio de trabalho

---

**Desenvolvido para App de Agendamento de SalÃ£o**
ğŸ“… VersÃ£o com HorÃ¡rios Customizados - Outubro 2025
